# ==============================================================================
# PADRÃO ÚNICO .ENV — ETLs Salesforce + MySQL + API Desktop
# ==============================================================================

# ------------------------------------------------------------------------------
# LOG / GERAL
# ------------------------------------------------------------------------------
LOG_LEVEL="INFO"
TZ_LOCAL="America/Sao_Paulo"

# ------------------------------------------------------------------------------
# SALESFORCE (obrigatório)
# ------------------------------------------------------------------------------
SF_DOMAIN="https://desktopsa.my.salesforce.com"
SF_CLIENT_ID="3MVG99gP.VbJma8WslD5o_qMP_J4iVg1FUTtQzWQ4_TxpBoZWi6MyFHtxCZMZFOCk2FsJbw2wNynhmaD7c8Uv"
SF_CLIENT_SECRET="E31D29879301886FE62D60D79898EE335B488E0A37E4DDB9874D12F12C29719E"
SF_USERNAME="plan.relatorios@desktop.net.br"
SF_PASSWORD="PlanRelatorios@2025PwdjW2bnaqa3Z8O7KwuqVoLp"

# Opcional: versão da API REST usada pelo iterator (quando tiver requests direto)
SF_API_VERSION="65.0"

# ------------------------------------------------------------------------------
# API DESKTOP (obrigatório para ETLs que enriquecem CTO)
# ------------------------------------------------------------------------------
DESKTOP_OAUTH_URL="https://oauth.desktop.com.br/v2/master/token"
DESKTOP_CLIENT_ID="smartomni"
DESKTOP_CLIENT_SECRET="XwrP64b9FlEf6FfVYRqgT3JUPUzw72N1"
DESKTOP_API_BASE="https://api-v2.desktop.com.br"


# 1 = verifica SSL (recomendado) | 0 = não verifica (evite usar)
DESKTOP_VERIFY_SSL="0"

# ------------------------------------------------------------------------------
# MYSQL (obrigatório)
# ------------------------------------------------------------------------------
MYSQL_HOST="172.29.5.3"
MYSQL_DATABASE="db_Melhoria_continua_operacoes"
MYSQL_USER="Geovane.Faria"
MYSQL_PASSWORD="GeovaneDesk2@25"

# ------------------------------------------------------------------------------
# EXPORTAÇÃO / PASTAS
# ------------------------------------------------------------------------------
EXPORT_DIR="./exportados"

# ==============================================================================
# PARÂMETROS POR SCRIPT (defaults bons)
# ==============================================================================

# ------------------------------------------------------------------------------
# 1) ETL WorkOrderHistory (Priority/Priority2) -> historico_ordem_servico_casos_criticos
# (script que usa SF_WOH_CREATED_FROM)
# ------------------------------------------------------------------------------
SF_WOH_CREATED_FROM="2025-08-11T00:00:00.000-03:00"

# ------------------------------------------------------------------------------
# 2) ETL ServiceAppointment Critical -> servicos_tecnicos
# (script que usa SF_CRITICAL_CREATED_FROM)
# ------------------------------------------------------------------------------
SF_CRITICAL_CREATED_FROM="2025-08-11T03:00:00.000Z"

# ------------------------------------------------------------------------------
# 3) ETL ServiceAppointmentHistory Cancelado -> service_appointment_cancelamentos
# (script que usa SA_HISTORY_LAST_N_DAYS, BATCH_INSERT, SA_CANCEL_TABLE)
# ------------------------------------------------------------------------------
SA_HISTORY_LAST_N_DAYS="2"
BATCH_INSERT="3000"
SA_CANCEL_TABLE="service_appointment_cancelamentos"

# ------------------------------------------------------------------------------
# 4) ETL ServiceAppointmentHistory (campos traduzidos) -> service_appointment_history (UPSERT)
# (script que usa SA_HISTORY_TABLE, PROCESS_YESTERDAY, PROCESS_TODAY, SLEEP_BETWEEN_DAYS_SEC)
# ------------------------------------------------------------------------------
SA_HISTORY_TABLE="service_appointment_history"
PROCESS_YESTERDAY="1"
PROCESS_TODAY="1"
SLEEP_BETWEEN_DAYS_SEC="1"

# ------------------------------------------------------------------------------
# 5) ETL Ticket (INC / Manutenção / Concluída) + Enriquecimento CTO -> ticket
# (script que usa TICKET_TABLE e SF_TICKET_SCHED_END_FROM)
# ------------------------------------------------------------------------------
TICKET_TABLE="ticket"
SF_TICKET_SCHED_END_FROM="2025-11-03T00:00:00.000-03:00"

# ------------------------------------------------------------------------------
# 6) Parâmetro legado que você já usava (mantido)
# ------------------------------------------------------------------------------
DIAS_BUSCA_SA_HISTORY="120"
